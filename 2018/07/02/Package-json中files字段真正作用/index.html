<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        Singcl的笔记
    </title>
    <link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">
    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body id="bodyx">
    <div class="relation-link">
      <a href="https://github.com/singcl" title="https://github.com/singcl">
        <img src="/images/Aquicon-Github-small.png" alt="https://github.com/singcl" srcset="" />
      </a>
      <a href="mailto:iambabyer@gmail.com" title="iambabyer@gmail.com">
        <img src="/images/email-small.png" alt="iambabyer@gmail.com" srcset="" />
      </a>
    </div>
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            Package.json中files字段真正作用
        </p>
        <hr>
    </div>
    <div class="post-content">
        <p>一个小小的问题在网上搜索下全尼玛是相互抄袭，千篇一律，真是醉了！</p>
<p>算了还是直接看英文文档：</p>
<p><strong>直接参考：<a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="noopener">英文文档</a></strong></p>
<p>The optional files field is an array of file patterns that <strong>describes the entries to be included when your package is installed as a dependency.</strong> File patterns follow a similar syntax to .gitignore, but reversed: including a file, directory, or glob pattern (<em>, **/</em>, and such) will make it so that file is included in the tarball when it’s packed. Omitting the field will make it default to [“*”], which means it will include all files.</p>
<p>Some special files and directories are also included or excluded regardless of whether they exist in the files array (see below).</p>
<p>You can also provide a .npmignore file in the root of your package or in subdirectories, which will keep files from being included. At the root of your package it will not override the “files” field, but in subdirectories it will. The .npmignore file works just like a .gitignore. If there is a .gitignore file, and .npmignore is missing, .gitignore’s contents will be used instead.</p>
<p>Files included with the “package.json#files” field cannot be excluded through .npmignore or .gitignore.</p>
<p><img src="/images/package-files.png" alt="package-fiels"></p>
<h3 id="NOTICE"><a href="#NOTICE" class="headerlink" title="NOTICE"></a>NOTICE</h3><p>是不是很懵逼？看到我加粗的文字了没有？ 那才是重点！</p>
<p><strong>当包作为依赖安装时指定哪些文件可以作为入口文件导出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i af-webpack --save</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果指定了files字段你可以这样require相关模块：</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'af-webpack'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'af-webpack/dev'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'af-webpack/build'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'af-webpack/getConfig'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'af-webpack/getUserConfig'</span>);</span><br></pre></td></tr></table></figure>

    </div>

    
</div> <div class="footer" id="footer">
    <p>Copyright©2022 <a class="flink" href="https://hexo.io">Hexo </a>Powered by <a class="flink" href="https://github.com/sanjinhub/hexo-theme-geek">Geek</a>.
        <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
            <input type="checkbox" name="switch" id="update_style">
            <span class="el-switch-style"></span>
        </label>
<!--         <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
        </script> -->
    </p>
</div>
<input type="hidden" id="web_style" value="white">
<input type="hidden" id="valine_appid" value="CmCti21ooOOIzFOhEyFkFvR0-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="FqiyUqbg7McKN2eG0MCewupf">
<script src="/libs/jquery.min.js"></script>
<script src="/libs/highlight/highlight.pack.js"></script>
<script src="/libs/gwm.umd.js"></script>
<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script src="/js/js.js"></script>
<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>
  </body>
</html>
